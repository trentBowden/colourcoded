<html>
    <head>
        <link rel="stylesheet" href="test1.css">
        <div id="animationObj"> </div>
        <script>
        /*
        I want this to create "user based art" around what they give the browser
        so the time of day they are visiting, where they are, things like that.
        Something simple to show I can get them and display them.
        */

        /*** Return RGB function
        ** Parameters: Current hour of the day, in 24 hour time.
        ** Method:  converts the hour of day into an elongated SIN graph,
        **          allowing the RGB color to change up to mid day and return by midnight
        ** returns: Nothing, changes background color.
        **/
        function returnRGB(hourOfDay) {
            var sinVersion = Math.sin(hourOfDay/7.5)*10;
            var rVal = Math.floor(sinVersion*28);
            var gVal = Math.floor(sinVersion*21);
            var bVal = Math.floor(sinVersion*0);
            document.body.style.backgroundColor='rgb(' + rVal + ',' + gVal + ',' + bVal + ')';
        }

        /** Current Background function
        **  Parameters: None
        **  Method:     +Gets date from user,
        **              +creates document space,
        **              +calls returnRGB function with hours as parameter.
        **/
        function currentBackground() {
            var toDay = new Date();
            var dayHours = toDay.getHours();
            document.write("<whiteTxt>"+toDay+"</whiteTxt>");
            returnRGB(dayHours);
        }

        /*** Name Storing function
        **  Parameters: None
        **  Method: +(If no local storage) Asks user for prompt of name
        **          +Stores name as variable "usrName"
        **          +Writes the string to local storage under identifier "inputName"
        **          +Displays first letter of name on screen
        ***/
        function nameStorer() {
            if (!(localStorage.getItem('inputName'))) {
                var userInput = prompt("Enter your name, please.", "..");
                localStorage.setItem('inputName', userInput);
            }
            var usrName = localStorage.getItem("inputName");
            if (usrName != undefined) {
                document.write("<cornTxt>" + usrName[0] + "</cornTxt");
            }
        }

        /*** Animation Station
        **  Parameters: None
        **  Method:     +New var Recieves element via the ID of "animationObj"
        **              +Var created for position, set to 0 for initial. (this is a counter)
        **              +Setinterval() used to call a function every set amount of time.
        **                   Parameters: Function to call (NEWFRAME fnc), milliseconds between calls
        **              +Sets initial location of animation object
        **/

        function animationStation() {
            var animObj = document.getElementById("animationObj");
            var currPos = 0;
            var tween = setInterval(newFrame, 50);


        /*** NEW FRAME function
        ** Parameters:  None
        ** Method:      +If the position variable exceeds a certain value (350)
        **                  -> Clear the interval timer (parameters: timer ID)
        **              +If position variable has not exceeded
        **                  -> Increase position counter, assign pos val +1 to elem.style.top
        **/

        function newFrame() {
            if (currPos==300) {
                clearInterval(tween);
                } else {
                    currPos+=.1;
                    var windowWidth = document.documentElement.clientWidth;
                    var windowHeight = document.documentElement.clientHeight;
                    animObj.style.top = windowHeight/2 + Math.sin(currPos)*200;
                    animObj.style.left = windowWidth/2 + Math.cos(currPos)*200;
                }
            }
        }

        /** hasGetUserMedia
        **  This function will check if the user can give us data!
        ** If not, we will display an alert telling the user.
        **/

        function hasGetUserMedia() {
          return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||
                    navigator.mozGetUserMedia || navigator.msGetUserMedia);
        }
        if (!(hasGetUserMedia())) {
          alert('oh no! You cannot interact with everything on this website. Sorry!');
      } else {
          //getUserMedia (constraints/success/error)
             navigator.getUserMedia({ audio: true, video: { width: 1280, height: 720 } },
                function(stream) {
                   console.log("Accessed the Microphone");
                },
                function(err) {
                   console.log("The following error occured: " + err.name);
      }

        function audioInput() {

            if (navigator.getUserMedia)
                );
            } else {
               console.log("getUserMedia not supported");
            }
        }


        /*** Calling functions
        **      +First, call for background to be changed
        **      +Second, prompt for name from user
        **      +Third, load animation
        **/

        currentBackground();
        nameStorer();
        animationStation();

        </script>
    </head>
    <body>

    </body>
</html>
